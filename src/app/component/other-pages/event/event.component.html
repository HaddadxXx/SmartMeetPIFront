<div class="pre-loader" [class.d-none]="commonServices.isSkeleton">
    <app-event-skeleton></app-event-skeleton>
</div>

<div class="event-cover">
    <div class="event-img"
        style="background-image: url(assets/images/cover/event.png);background-size: cover; background-position: center center; background-repeat: no-repeat; display: block;">
        <img src="assets/images/cover/event.png" class="img-fluid  bg-img" alt="" style="display: none;">
        <div class="event-content">
            <h1>latest events</h1>
        </div>
        <div class="cover-img-detail">
            <!-- <span>12 dec</span> -->
            <!-- <h3>last added 10 songs</h3> -->
            <a href="javascript:void(0)">view more
                <app-feather-icon [class]="'fas ms-1 fa-arrow-right'"></app-feather-icon>
            </a>
        </div>
        <!-- <div class="settings">
            <div class="setting-btn">
                <a href="javascript:void(0)">
                    <app-feather-icon [icons]="'rotate-cw'"
                        [class]="'icon icon-dark stroke-width-3 iw-11 ih-11'"></app-feather-icon>
                </a>
            </div> -->
            <!-- <div class="setting-btn ms-2 setting-dropdown" (clickOutside)="outSideClose()">
                <div class=" btn-group custom-dropdown arrow-none dropdown-sm">
                    <a href="javascript:void(0)" [class.show]="isShow" (click)="isShow =!isShow">
                        <app-feather-icon [icons]="'sun'"
                            [class]="'icon-dark stroke-width-3 icon iw-11 ih-11'"></app-feather-icon>
                    </a> -->
                    <!-- <div class="dropdown-menu dropdown-menu-right custom-dropdown" [class.show]="isShow"
                        style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(-149px, 23px);">
                        <ul>
                            <li>
                                <a href="javascript:void(0)">
                                    <app-feather-icon [icons]="'edit'"
                                        [class]="'icon-font-light iw-16 ih-16'"></app-feather-icon>edit profile</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <app-feather-icon [icons]="'user'"
                                        [class]="'icon-font-light iw-16 ih-16'"></app-feather-icon>view profile</a>
                            </li>
                        </ul>
                    </div> -->
                <!-- </div>
            </div> -->
        <!-- </div> -->
    </div>
    
<div class="profile-menu ms-0 me-0">
    
    <ul class="right-menu d-xl-flex d-none">
        <li>
            <a [routerLink]="['/others', 'add-event']">
                <h6>Create Event</h6>
            </a>
            
        </li>
        <li>
            <a href="javascript:void(0)" (click)="openSessionModal()">
                <h6>Create Session</h6>
            </a>

        </li>
    </ul>
</div>
<!-- Modal pour créer une session -->
<div *ngIf="showSessionModal" class="modal-overlay">
    <div class="modal">
        <div class="modal-content">
            <h2>Create session</h2>
            <form [formGroup]="sessionForm" (ngSubmit)="onSessionSubmit()">
                <div class="form-group">
                    <label>Session Name </label>
                    <input type="text" formControlName="titre" class="form-control" placeholder="Entrez le nom de la session">
                </div>
                <div class="form-group">
                    <label>Date Session </label>
                    <input type="date" formControlName="date" class="form-control">
                </div>
                <div class="form-group">
                    <label>Event</label>
                    <select formControlName="nomEvent" class="form-control">
                        <option *ngFor="let event of events" [value]="event.nomEvent">{{ event.nomEvent }}</option>
                    </select>
                </div>
                <br>
                <button type="submit" class="btn btn-success">Create</button>
                
                <button type="button" class="btn btn-secondary" (click)="closeSessionModal()">Cancel</button>
            </form>
        </div>
    </div>
</div>



<div class="row event-body">
    <div class="col-xl-6">
        <app-event-section [events]="events" [class]="class"></app-event-section>  
       
            
            <!-- <button class="btn btn-primary ms-2" (click)="openParticipationModal(event)">Participer</button> -->
      
         
            <!-- <app-event-category></app-event-category> -->
          <!-- Liste des Sessions -->
          <div class="session-list mt-4">
            <h2 class="text-center mb-4">List of Session</h2>
            <div *ngFor="let session of sessions" class="card session-card shadow-sm">
                <div class="card-body d-flex align-items-center">
                    <div class="session-details flex-grow-1">
                        <h5 class="card-title text-primary">{{ session.titre }}</h5>
                        <p class="card-text text-muted">Date: {{ session.date | date: 'dd/MM/yyyy' }}</p>
                    </div>
                    <div class="session-actions">
                        <button class="btn btn-light-blue" >
                            Update
                        </button>
                    </div>
                </div>
            </div>
            <ng-template #noSession>
                <p class="text-center">No Session</p>
            </ng-template>
        </div>
        
             <!-- Modal pour la participation -->
       <!-- Modal pour la participation -->
<!-- <div *ngIf="showParticipationModal" class="modal-overlay">
    <div class="modal">
        <div class="modal-content">
            <h2>Participation à l'événement : {{ selectedEvent?.nomEvent }}</h2>
            <form [formGroup]="participationForm" (ngSubmit)="onParticipationSubmit()">
                <div class="form-group">
                    <label>Nom</label>
                    <input type="text" formControlName="nom" class="form-control" placeholder="Entrez votre nom">
                </div>
                <div class="form-group">
                    <label>Prénom</label>
                    <input type="text" formControlName="prenom" class="form-control" placeholder="Entrez votre prénom">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" formControlName="email" class="form-control" placeholder="Entrez votre email">
                </div>
                <br>
                <button type="submit" class="btn btn-success">Participer</button>
                <button type="button" class="btn btn-secondary" (click)="closeParticipationModal()">Annuler</button>
            </form>
        </div>
    </div>
</div> -->

            
    </div>
    <div class="col-xl-6">
        <app-calendar></app-calendar>
    </div>
</div>