<div class="pre-loader" [class.d-none]="commonServices.isSkeleton">
    <app-event-skeleton></app-event-skeleton>
</div>

<div class="event-cover">
    <div class="event-img"
        style="background-image: url(assets/images/cover/event.png);background-size: cover; background-position: center center; background-repeat: no-repeat; display: block;">
        <img src="assets/images/cover/event.png" class="img-fluid  bg-img" alt="" style="display: none;">
        <div class="event-content">
            <h1>latest events</h1>
        </div>
        <div class="cover-img-detail">
            <span>12 dec</span>
            <h3>last added 10 songs</h3>
            <a href="javascript:void(0)">view more
                <app-feather-icon [class]="'fas ms-1 fa-arrow-right'"></app-feather-icon>
            </a>
        </div>
        <!-- <div class="settings">
            <div class="setting-btn">
                <a href="javascript:void(0)">
                    <app-feather-icon [icons]="'rotate-cw'"
                        [class]="'icon icon-dark stroke-width-3 iw-11 ih-11'"></app-feather-icon>
                </a>
            </div> -->
            <!-- <div class="setting-btn ms-2 setting-dropdown" (clickOutside)="outSideClose()">
                <div class=" btn-group custom-dropdown arrow-none dropdown-sm">
                    <a href="javascript:void(0)" [class.show]="isShow" (click)="isShow =!isShow">
                        <app-feather-icon [icons]="'sun'"
                            [class]="'icon-dark stroke-width-3 icon iw-11 ih-11'"></app-feather-icon>
                    </a> -->
                    <!-- <div class="dropdown-menu dropdown-menu-right custom-dropdown" [class.show]="isShow"
                        style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(-149px, 23px);">
                        <ul>
                            <li>
                                <a href="javascript:void(0)">
                                    <app-feather-icon [icons]="'edit'"
                                        [class]="'icon-font-light iw-16 ih-16'"></app-feather-icon>edit profile</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <app-feather-icon [icons]="'user'"
                                        [class]="'icon-font-light iw-16 ih-16'"></app-feather-icon>view profile</a>
                            </li>
                        </ul>
                    </div> -->
                <!-- </div>
            </div> -->
        <!-- </div> -->
    </div>
    <!-- <div class="event-timeline">
        <div class="timeline-title">
            <div class="media">
                <img src="assets/images/icon/event.png" class="img-fluid " alt="">
                <div class="media-body">
                    <h4>timeline</h4>
                    <h6>45 total your attended events</h6>
                </div>
            </div>
        </div>
        <ul class="timeline-content">
            <li>
                <h4>2019</h4>
                <h6>12 events</h6>
            </li>
            <li>
                <h4>2024</h4>
                <h6>16 events</h6>
            </li>
            <li>
                <h4>2024</h4>
                <h6>10 events</h6>
            </li>
            <li>
                <h4>2016</h4>
                <h6>13 events</h6>
            </li>
            <li>
                <h4>2024</h4>
                <h6>5 events</h6>
            </li>
            <li>
                <h4>2024</h4>
                <h6>4 events</h6>
            </li>
        </ul>
    </div>
</div> -->
<div class="profile-menu ms-0 me-0">
    
    <ul class="right-menu d-xl-flex d-none">
        <li>
            <a [routerLink]="['/others', 'add-event']">
                <h6>Create Event</h6>
            </a>
            
        </li>
        <li>
            <a href="javascript:void(0)" (click)="openSessionModal()">
                <h6>Create Session</h6>
            </a>

        </li>
    </ul>
</div>
<!-- Modal pour créer une session -->
<div *ngIf="showSessionModal" class="modal-overlay">
    <div class="modal">
        <div class="modal-content">
            <h2>Créer une session</h2>
            <form [formGroup]="sessionForm" (ngSubmit)="onSessionSubmit()">
                <div class="form-group">
                    <label>Nom de la session</label>
                    <input type="text" formControlName="titre" class="form-control" placeholder="Entrez le nom de la session">
                </div>
                <div class="form-group">
                    <label>Date de la session</label>
                    <input type="date" formControlName="date" class="form-control">
                </div>
                <div class="form-group">
                    <label>Événement</label>
                    <select formControlName="nomEvent" class="form-control">
                        <option *ngFor="let event of events" [value]="event.nomEvent">{{ event.nomEvent }}</option>
                    </select>
                </div>
                <br>
                <button type="submit" class="btn btn-success">Créer</button>
                
                <button type="button" class="btn btn-secondary" (click)="closeSessionModal()">Annuler</button>
            </form>
        </div>
    </div>
</div>



<div class="row event-body">
    <div class="col-xl-6">
        <app-event-section [events]="events" [class]="class"></app-event-section>    
            <!-- <app-event-category></app-event-category> -->
            <div class="session-list">
                <h2>Liste des Sessions</h2>
                <ul *ngIf="sessions.length > 0; else noSession">
                    <li *ngFor="let session of sessions">
                        <h4>{{ session.titre }}</h4>
                        <p>Date: {{ session.date }}</p>
                       <!-- <button (click)="openSessionModal(session)">Modifier</button> -->
                    </li>
                </ul>
                <ng-template #noSession>
                    <p>Aucune session disponible.</p>
                </ng-template>
            </div>
            
            
    </div>
    <div class="col-xl-6">
        <app-calendar></app-calendar>
    </div>
</div>